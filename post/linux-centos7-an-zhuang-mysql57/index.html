<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>linux centos7 安装mysql5.7 | Gridea</title>
<link rel="shortcut icon" href="https:// linindoo.github.io/favicon.ico?v=1637213465340">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https:// linindoo.github.io/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="linux centos7 安装mysql5.7 | Gridea - Atom Feed" href="https:// linindoo.github.io/atom.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">



    <meta name="description" content="前言
目前linux系统普遍都支持yum软件安装，但是如果你不进行配置的话，通过yum install mysql 安装命令得到的会使默认的mysql5.1的版本，然而这种缺乏定制化的操作并不是我想要的

一个完整的mysql服务需要哪些依..." />
    <meta name="keywords" content="" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
    <script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https:// linindoo.github.io">
  <img class="avatar" src="https:// linindoo.github.io/images/avatar.png?v=1637213465340" alt="">
  </a>
  <h1 class="site-title">
    Gridea
  </h1>
  <p class="site-description">
    温故而知新
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          首页
        </a>
      
    
      
        <a href="/archives" class="menu">
          归档
        </a>
      
    
      
        <a href="/tags" class="menu">
          标签
        </a>
      
    
      
        <a href="/post/about" class="menu">
          关于
        </a>
      
    
  </div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              linux centos7 安装mysql5.7
            </h2>
            <div class="post-info">
              <span>
                2021-11-09
              </span>
              <span>
                3 min read
              </span>
              
            </div>
            
            <div class="post-content-wrapper">
              <div class="post-content">
                <h1 id="前言">前言</h1>
<p><em>目前linux系统普遍都支持yum软件安装，但是如果你不进行配置的话，通过yum install mysql 安装命令得到的会使默认的mysql5.1的版本，然而这种缺乏定制化的操作并不是我想要的</em></p>
<ol>
<li>一个完整的mysql服务需要哪些依赖</li>
</ol>
<blockquote>
<p>mysql-community-client<br>
mysql-community-common<br>
mysql-community-libs<br>
mysql-community-libs-compat<br>
mysql-community-server</p>
</blockquote>
<p>这些组件都是mysql所需要的，我们可以在mysql上的官网上分别下载这些组件的rpm包，也可以直接下载合并的压缩包，一般都是以rpm-bundle.tar为后缀。官网的下载网速实在感人，建议去国内的镜像网站下载相关资源，比如<a href="http://mirrors.sohu.com/">搜狐开源镜像</a>或者<a href="http://mirrors.cn99.com/">网易开源镜像</a>，这些都是不错的选择。</p>
<p>下载的时候要注意选择合适的版本号，比如我的是centos7 64位，所以就使用el7-x86_64后缀的包。<br>
你可以直接下载到本地，然后再上传到服务器，不过这样比较麻烦，建议是通过 wget 直接下载。</p>
<p><code>wget -c 'url'</code></p>
<p>2.安装<br>
通过下面的指令逐个进行安装，安装的时候可能会报错说缺乏相应的依赖，这是你的安装顺序有问题，先安装其他的。</p>
<p><code>rpm -ivh 'rmp包'</code></p>
<p>3.安装完成后启动mysql</p>
<p><code>service mysqld start</code></p>
<p>4.修改密码<br>
mysql5.7会生成随机的密码，所以我们需要第一时间修改密码</p>
<p><code>grep 'temporary password' /var/log/mysqld.log</code></p>
<p>从日志中找到密码，然后使用密码登录</p>
<p><code>mysql -u root -p</code></p>
<p>登录之后修改密码</p>
<p><code>ALTER USER 'root'@'localhost' IDENTIFIED BY 'password'</code></p>
<p>不过这个密码有校验，必须大小写和数字俱全，还有长度限制。</p>
<p>5.开放外网访问<br>
mysql的初始root账户是只能本地访问的，外网访问是被禁止的，如果你想远程连接，那就需要修改root的访问权限</p>
<p><code>update user set host='%' where user = 'root';</code></p>
<p>这样的话就能通过root账户进行远程连接了<br>
6.配置数据库字符集<br>
在 <code>/etc/</code> 目录中找到mysql的配置文件my.conf,使用<br>
<code>vi /etc/my.conf</code>命令进行编辑，添加如下配置</p>
<pre><code>[mysql]
default-character-set=utf8
[mysqld]
character-set-server=utf8
</code></pre>
<p>然后重启mysql</p>

              </div>
              <div class="toc-container">
                <ul class="markdownIt-TOC">
<li><a href="#%E5%89%8D%E8%A8%80">前言</a></li>
</ul>

              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">下一篇</div>
            <a href="https:// linindoo.github.io/post/linux-centos7-gei-wen-zhang-tian-jia-quan-xian/">
              <h3 class="post-title">
                linux centos7给文章添加权限
              </h3>
            </a>
          </div>
        

        

        <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
  <a class="rss" href="https:// linindoo.github.io/atom.xml" target="_blank">
    <i class="ri-rss-line"></i> RSS
  </a>
</div>

      </div>
    </div>

    <script>
      hljs.initHighlightingOnLoad()

      let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

      // This should probably be throttled.
      // Especially because it triggers during smooth scrolling.
      // https://lodash.com/docs/4.17.10#throttle
      // You could do like...
      // window.addEventListener("scroll", () => {
      //    _.throttle(doThatStuff, 100);
      // });
      // Only not doing it here to keep this Pen dependency-free.

      window.addEventListener("scroll", event => {
        let fromTop = window.scrollY;

        mainNavLinks.forEach((link, index) => {
          let section = document.getElementById(decodeURI(link.hash).substring(1));
          let nextSection = null
          if (mainNavLinks[index + 1]) {
            nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
          }
          if (section.offsetTop <= fromTop) {
            if (nextSection) {
              if (nextSection.offsetTop > fromTop) {
                link.classList.add("current");
              } else {
                link.classList.remove("current");    
              }
            } else {
              link.classList.add("current");
            }
          } else {
            link.classList.remove("current");
          }
        });
      });

    </script>
  </body>
</html>
